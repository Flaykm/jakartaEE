<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <title>Library Management</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background-color: #f8f9fa; }
        h1, h2 { color: #343a40; }
        .form-container { margin-bottom: 20px; padding: 10px; background-color: #ffffff; border: 1px solid #dee2e6; border-radius: 8px; }
        .btn { background-color: #007bff; color: white; border: none; padding: 6px 12px; cursor: pointer; border-radius: 4px; }
        .btn:hover { background-color: #0056b3; }
        .data-table { border-collapse: collapse; width: 100%; margin-top: 10px; }
        .data-table th, .data-table td { border: 1px solid #dee2e6; padding: 8px; text-align: left; }
        .data-table th { background-color: #343a40; color: white; }
    </style>
</h:head>

<h:body>
    <h1>Library Management</h1>

    <h2>Add / Edit Author</h2>
    <h:form styleClass="form-container">
        <h:outputLabel value="Name:"/>
        <h:inputText value="#{authorBean.author.name}" />
        <h:outputLabel value="Birth Year:"/>
        <h:inputText value="#{authorBean.author.birthYear}" />
        <h:commandButton value="Save Author" action="#{authorBean.saveAuthor}" styleClass="btn"/>
    </h:form>

    <h2>Authors List</h2>
    <h:dataTable value="#{authorBean.authors}" var="a" styleClass="data-table">
        <h:column><f:facet name="header">ID</f:facet>#{a.id}</h:column>
        <h:column><f:facet name="header">Name</f:facet>#{a.name}</h:column>
        <h:column><f:facet name="header">Birth Year</f:facet>#{a.birthYear}</h:column>
        <h:column>
            <h:commandButton value="Edit" action="#{authorBean.editAuthor(a)}" styleClass="btn"/>
            <h:commandButton value="Delete" action="#{authorBean.deleteAuthor(a)}" styleClass="btn"/>
        </h:column>
    </h:dataTable>

    <h2>Add / Edit Book</h2>
    <h:form styleClass="form-container">
        <h:outputLabel value="Title:"/>
        <h:inputText value="#{bookBean.book.title}" />
        <h:outputLabel value="Year:"/>
        <h:inputText value="#{bookBean.book.year}" />
        <h:outputLabel value="Author:"/>
        <h:selectOneMenu value="#{bookBean.book.author}">
            <f:selectItems value="#{bookBean.authors}" var="auth"
                           itemLabel="#{auth.name}" itemValue="#{auth}" />
        </h:selectOneMenu>
        <h:commandButton value="Save Book" action="#{bookBean.saveBook}" styleClass="btn"/>
    </h:form>

    <h2>Books List</h2>
    <h:dataTable value="#{bookBean.books}" var="b" styleClass="data-table">
        <h:column><f:facet name="header">ID</f:facet>#{b.id}</h:column>
        <h:column><f:facet name="header">Title</f:facet>#{b.title}</h:column>
        <h:column><f:facet name="header">Year</f:facet>#{b.year}</h:column>
        <h:column><f:facet name="header">Author</f:facet>#{b.author.name}</h:column>
        <h:column>
            <h:commandButton value="Edit" action="#{bookBean.editBook(b)}" styleClass="btn"/>
            <h:commandButton value="Delete" action="#{bookBean.deleteBook(b)}" styleClass="btn"/>
        </h:column>
    </h:dataTable>

</h:body>
</html>